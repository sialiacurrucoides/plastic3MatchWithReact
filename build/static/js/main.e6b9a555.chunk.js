(this.webpackJsonpplastic3match=this.webpackJsonpplastic3match||[]).push([[0],[,,,function(e,t,n){e.exports={textCenter:"Messages_textCenter__IhmWW",startGame:"Messages_startGame__38DHC",intro1:"Messages_intro1__bNcm1",intro2:"Messages_intro2__3wA8E",intro3:"Messages_intro3__3YdnS",hourGlass:"Messages_hourGlass__37Y2T",rotating:"Messages_rotating__1hxmM",nextGoal:"Messages_nextGoal__3qLoF",tech:"Messages_tech__121QZ",activatedTech:"Messages_activatedTech__3wuoV",stepsAnimation:"Messages_stepsAnimation__1TLp8",tile:"Messages_tile__2iYpH",congrat:"Messages_congrat__17gVo",gameOver:"Messages_gameOver__106qe",popUpTech:"Messages_popUpTech__YLa1H",selectTechButton:"Messages_selectTechButton__2Qyo5"}},,,,function(e,t,n){e.exports={tile:"Tile_tile__nO-mS",enterAnimation:"Tile_enterAnimation__1hqbn",enter:"Tile_enter__3kC56",highlighted:"Tile_highlighted__FF8rM",fading:"Tile_fading__iCHjS",fade:"Tile_fade__2lfK6"}},,,,,,,function(e,t,n){e.exports={container:"Badges_container__2vFM1",badgeSeries:"Badges_badgeSeries__3AjYw",highlighted:"Badges_highlighted__1Kmqe"}},,,,,,,,,,,function(e,t,n){e.exports={App:"App_App__15LM-"}},function(e,t,n){e.exports={gameBoard:"Plastic3Match_gameBoard__3BJdo"}},function(e,t,n){e.exports={header:"Header_header__1v0yI"}},function(e,t,n){e.exports={container:"DisplayScore_container__3I99P"}},function(e,t,n){e.exports={container:"DisplayRecord_container__L-2dI"}},function(e,t,n){e.exports={container:"Timer_container__1rGtN"}},function(e,t,n){e.exports={container:"Goal_container__3hkaZ"}},function(e,t,n){e.exports={gameField:"GameField_gameField__cza5h"}},,function(e,t,n){e.exports={againButton:"AgainButton_againButton__nQXo1"}},function(e,t,n){e.exports={goButton:"GoButton_goButton__2syLH"}},function(e,t,n){e.exports={canvas:"MessageCanvas_canvas__pTALd"}},,function(e,t,n){e.exports={myVideo:"VideoBackground_myVideo__3L7I5"}},,,,,,,,,function(e,t,n){},,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(5),i=n.n(s),r=function(e){e&&e instanceof Function&&n.e(16).then(n.bind(null,73)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))},o=n(2),l=(n(47),n(25)),u=n.n(l),j=n(26),d=n.n(j),b=n(27),p=n.n(b),h=n(28),g=n.n(h),O=n(9),f="intro1",m="intro2",v="intro3",x="startGame",_="gameOver",M="selectTech",N="congrat",T=[20,60,100,9999],y=[2,5,6],C=y.map((function(e){return e+1})),S={isOn:!1,canvasToShow:f,removablePlasticList:[0,1,3,4],isPaused:!1},w=Object(O.b)({name:"generalState",initialState:S,reducers:{startGame:function(e){e.isOn=!0},stopGame:function(e){e.isOn=!1},togglePause:function(e){e.isPaused=!e.isPaused},updateCanvas:function(e,t){e.canvasToShow=t.payload},addRemovablePlastic:function(e,t){e.removablePlasticList.push(t.payload)}}}),k=Object(O.b)({name:"results",initialState:{score:0,record:0},reducers:{increaseScore:function(e,t){e.score+=t.payload},resetScore:function(e){e.score=0},updateRecord:function(e,t){e.record=t.payload}}}),B=Object(O.b)({name:"badges",initialState:{badges:[],level:0},reducers:{addBadge:function(e,t){e.badges.push(t.payload)},levelUp:function(e){e.level+=1},reset:function(e){e.level=0,e.badges=[]}}}),G=Object(O.a)({reducer:{results:k.reducer,badges:B.reducer,general:w.reducer}}),A=k.actions,P=B.actions,V=w.actions,Y=G,L=n(0),F=function(){var e=Object(o.c)((function(e){return e.results.score})),t=Object(o.c)((function(e){return e.results.record})),n=Object(o.c)((function(e){return e.badges.level})),c=Object(o.b)();return e>t&&c(A.updateRecord(e)),e>=T[n]&&(c(P.levelUp()),c(V.updateCanvas(M)),c(V.togglePause())),Object(L.jsxs)("div",{className:g.a.container,children:[Object(L.jsx)("span",{children:"Score"}),Object(L.jsx)("span",{children:e})]})},E=n(29),I=n.n(E),R=function(){var e=Object(o.c)((function(e){return e.results.record}));return Object(L.jsxs)("div",{className:I.a.container,children:[Object(L.jsx)("span",{children:"Record"}),Object(L.jsx)("span",{children:e})]})},D=n(4),H=n(30),U=n.n(H),W="- : --",q=function(){var e=Object(c.useState)(W),t=Object(D.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(!1),i=Object(D.a)(s,2),r=i[0],l=i[1],u=Object(o.c)((function(e){return e.general.isOn})),j=Object(o.c)((function(e){return e.badges.badges})),d=Object(o.b)();return Object(c.useEffect)((function(){r&&(j.length===y.length?d(V.updateCanvas("congrat")):d(V.updateCanvas("gameOver")))}),[r,j,d]),Object(c.useEffect)((function(){if(u)var e=6e4,t=setInterval((function(){0===e?(clearInterval(t),d(V.stopGame()),l(!0)):(a(function(e){var t=Math.floor(e/6e4),n=t>0?e/1e3%(60*t):e/1e3;return"".concat(t,":").concat(n)}(e)),e-=1e3)}),1e3);else a(W)}),[u,d]),Object(L.jsxs)("div",{className:U.a.container,children:[Object(L.jsx)("span",{children:"Time"}),Object(L.jsx)("span",{children:n})]})},X=n(31),z=n.n(X),J=function(){var e=Object(o.c)((function(e){return e.badges.level}));return Object(L.jsxs)("div",{className:z.a.container,children:[Object(L.jsx)("span",{children:"Goal"}),Object(L.jsx)("span",{children:T[e]})]})},K=n(14),Q=n.n(K),Z=function(){var e=Object(o.c)((function(e){return e.badges.badges}));return Object(L.jsxs)("div",{className:Q.a.container,children:[Object(L.jsx)("span",{children:"Badges"}),Object(L.jsx)("span",{className:Q.a.badgeSeries,children:C.map((function(t){return Object(L.jsx)("span",{className:e.includes(t)?Q.a.highlighted:"",children:t},"badge".concat(t))}))})]})},$=function(){return Object(L.jsxs)("div",{className:p.a.header,children:[Object(L.jsx)(q,{}),Object(L.jsx)(F,{}),Object(L.jsx)(J,{}),Object(L.jsx)(Z,{}),Object(L.jsx)(R,{})]})},ee=n(32),te=n.n(ee),ne=function(e){var t,n,c;for(c=e.length-1;c>0;c--)t=Math.floor(Math.random()*(c+1)),n=e[c],e[c]=e[t],e[t]=n;return e},ce=10,ae=100,se=[0,1,3,4].length+[2,5,6].length,ie=[1/7,1/7,1/7,1/7,1/7,1/7,1/7],re=["normal","highlighted","shrinking"],oe=function(){var e=[];ie.forEach((function(t){var n=Math.floor(t*ae);e.push(n)}));var t=e.reduce((function(e,t){return e+t}));if(t<ae)for(var n=0;n<ae-t;n++){var c=Math.floor(Math.random()*se);e[c]++}return e}(),le=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=[],n=0;n<e.length;n++)for(var c=0;c<e[n];c++)t.push(n);return(t=ne(t)).map((function(e,t){return{position:t,value:e,pointValue:0,aboutToMove:0}}))},ue=n(6),je=n(10),de=function(e,t){for(var n=function(e){var t=e.map((function(t,n){return e[n-1]?t-e[n-1]:ce})),n=t.reduce((function(e,n){if(n!==ce){var c=t.indexOf(n);return 0===e.length?[c]:[].concat(Object(je.a)(e),[c-e[e.length-1]])}return e}),[]);return n.push(e.length-n.reduce((function(e,t){return e+t}),0)),n}(e),c=1,a=n[n.length-c],s=t.position-ce*a;e.includes(s);)c+=1,a+=n[n.length-c],s=t.position-ce*a;return s},be=function(e,t,n){var c=n.map((function(e){return e%ce}));return e.map((function(a){var s=a.position%ce,i=t[s];if(n.includes(a.position)||c.includes(s)&&Math.max.apply(Math,Object(je.a)(i))>a.position){var r=de(i,a);return function(e,t,n){var c=n.find((function(e){return e.position===t}));return c?Object(ue.a)(Object(ue.a)({},c),{},{position:e,aboutToMove:c.aboutToMove+1}):{position:e,value:Math.floor(7*Math.random()),pointValue:0,aboutToMove:Math.random()}}(a.position,r,e)}return a}))},pe=function(e,t){var n=new Array(ce),c=e.reduce((function(e,c){if(c.pointValue>0&&t.includes(c.value)){var a=n[c.position%ce]?n[c.position%ce]:[];return n[c.position%ce]=[].concat(Object(je.a)(a),[c.position]),[].concat(Object(je.a)(e),[c.position])}return e}),[]);return be(e,n,c)},he=n(7),ge=n.n(he),Oe=n(33),fe="28",me=function(e,t,n){return Math.abs(e>"40"||t>"40")?n:(Math.abs(e)>fe&&e>0&&(c=n-1),Math.abs(e)>fe&&e<0&&(c=n+1),Math.abs(t)>fe&&t>0&&(c=n-ce),Math.abs(t)>fe&&t<0&&(c=n+ce),c>=0&&c<ae?c:n);var c},ve=function(e){var t=e.tileValue,n=e.position,s=e.tileState,i=e.onSwitch,r=e.aboutToMove,o=Object(c.useState)("translate(0px,0px)"),l=Object(D.a)(o,2),u=l[0],j=l[1],d=Object(c.useState)([null,null]),b=Object(D.a)(d,2),p=b[0],h=b[1],g=Object(c.useState)("".concat(t)),O=Object(D.a)(g,2),f=O[0],m=O[1],v=function(e){var t=Math.floor(e/ce);return"".concat(9.5*t+2.5,"%")}(n),x="".concat(n%ce*9.5+2.5,"%"),_=a.a.useRef(null),M=s===re[2]?"".concat(ge.a.tile," ").concat(ge.a.fading," ").concat(ge.a.enterAnimation):"".concat(ge.a.tile," ").concat(ge.a.enterAnimation);return Object(c.useEffect)((function(){m((function(e){return"".concat(e,"ch")}))}),[r]),Object(L.jsx)(Oe.DraggableCore,{nodeRef:_,onStart:function(e){h([e.pageX,e.pageY])},onDrag:function(e){var t=e.pageX-p[0],n=e.pageY-p[1];j("translate(".concat(t,"px, ").concat(n,"px)"))},onStop:function(e){var t=p[0]-e.pageX,c=p[1]-e.pageY,a=me(t,c,n);a!==n&&i(n,a),j("translate(0px,0px)")},children:Object(L.jsx)("div",{className:M,ref:_,style:{top:v,left:x,transform:u,backgroundImage:'url("imgs/icon_'.concat(t+1,'.png")')}},f)})},xe=function(e,t){var n=t-1>=0&&t%ce!==0&&e[t].value===e[t-1].value,c=t+1<ae&&(t+1)%ce!==0&&e[t].value===e[t+1].value,a=t-ce>=0&&e[t].value===e[t-ce].value,s=t+ce<ae&&e[t].value===e[t+ce].value;if(!c&&!n&&!a&&!s)return 0;var i=t-2>=0&&t%ce!==0&&(t-2+1)%ce!==0&&n&&e[t].value===e[t-2].value,r=t+2<ae&&(t+2)%ce!==0&&c&&e[t].value===e[t+2].value,o=t-20>=0&&a&&e[t].value===e[t-20].value,l=t+20<ae&&s&&e[t].value===e[t+20].value;return o&&l||i&&r||i&&o||o&&r||r&&l||l&&i?3:n&&r||c&&i||a&&l||s&&o?2:!n&&r||!c&&i||!a&&l||!s&&o||c&&n||a&&s?1:0},_e=function(e){return e.map((function(t,n){return Object(ue.a)(Object(ue.a)({},t),{},{pointValue:xe(e,n)})}))},Me=function(e,t){return e.reduce((function(e,n){return n.pointValue>0&&t.includes(n.value)?e+n.pointValue:e}),0)},Ne=n(3),Te=n.n(Ne),ye=n(34),Ce=n.n(ye),Se=function(e){var t=e.onClick;return Object(L.jsx)("div",{className:Ce.a.againButton,onClick:t,children:"Play again!"})},we=n(35),ke=n.n(we),Be=function(e){var t=e.onClick;return Object(L.jsx)("div",{className:ke.a.goButton,onClick:t,children:"GO"})},Ge=n(36),Ae=n.n(Ge),Pe=function(e){var t=e.children;return Object(L.jsx)("div",{className:Ae.a.canvas,children:t})},Ve=["7 stands for 'other types' of plastic","Metalized films usually cannot be recycled even if the plastic type is PP.","You can use reusable bags for buying fruits and vegetables.","Buying from the local market is more eco-friendly."],Ye=function(){var e=Object(o.b)();return Object(L.jsx)(Pe,{children:Object(L.jsxs)("div",{className:Te.a.intro1,children:[Object(L.jsx)("h3",{children:"Welcome to Plastic3match!"}),Object(L.jsx)("p",{children:"A three-match game where you cannot make the non-recyclable plastic pieces disappear."}),Object(L.jsx)("br",{}),Object(L.jsx)("p",{children:"Unless... You develop new technologies."}),Object(L.jsx)(Be,{onClick:function(){console.log("clicked"),e(V.updateCanvas(m))}})]})})},Le=function(){var e=Object(o.b)();return Object(L.jsx)(Pe,{children:Object(L.jsxs)("div",{className:Te.a.intro2,children:[Object(L.jsxs)("p",{className:"text-center intro p-3",children:["Switch ",Object(L.jsx)("strong",{children:"ANY"})," adjacent pieces!"]}),Object(L.jsxs)("div",{className:Te.a.stepsAnimation,children:[Object(L.jsxs)("div",{className:Te.a.tile,children:[Object(L.jsx)("img",{src:"imgs/icon_1.png",alt:"plastic-1"}),Object(L.jsx)("i",{className:"fas fa-arrows-alt-h arrow"}),Object(L.jsx)("img",{src:"imgs/icon_2.png",alt:"plastic-2"}),Object(L.jsx)("img",{src:"imgs/icon_1.png",alt:"plastic-1"}),Object(L.jsx)("img",{src:"imgs/icon_1.png",alt:"plastic-1"})]}),Object(L.jsxs)("div",{className:Te.a.tile,children:[Object(L.jsx)("img",{src:"imgs/icon_2.png",alt:"plastic-2"}),Object(L.jsx)("img",{src:"imgs/icon_1.png",alt:"plastic-1"}),Object(L.jsx)("img",{src:"imgs/icon_1.png",alt:"plastic-1"}),Object(L.jsx)("img",{src:"imgs/icon_1.png",alt:"plastic-1"})]}),Object(L.jsxs)("div",{className:Te.a.tile,children:[Object(L.jsx)("img",{src:"imgs/icon_2.png",alt:"plastic-2"}),Object(L.jsx)("img",{src:"imgs/icon_5.png",alt:"plastic-5"}),Object(L.jsx)("img",{src:"imgs/icon_3.png",alt:"plastic-3"}),Object(L.jsx)("img",{src:"imgs/icon_4.png",alt:"plastic-4"})]})]}),Object(L.jsx)("p",{children:"...by clicking on each or by dragging one "}),Object(L.jsx)(Be,{onClick:function(){e(V.updateCanvas(v))}})]})})},Fe=function(){var e=Object(o.b)();return Object(L.jsx)(Pe,{children:Object(L.jsxs)("div",{className:Te.a.intro3,children:[Object(L.jsxs)("p",{children:["Aim for the next goal: ",Object(L.jsx)("span",{className:Te.a.nextGoal,children:" 70"})]}),Object(L.jsxs)("p",{children:["reaching the goal allows you to develop ",Object(L.jsx)("em",{children:"new"})," technologies to deal with non-recyclable plastic types:"]}),Object(L.jsxs)("p",{children:[Object(L.jsx)("span",{className:"".concat(Te.a.tech," ").concat(Te.a.activatedTech),children:"3"}),Object(L.jsx)("span",{className:"".concat(Te.a.tech," ").concat(Te.a.activatedTech),children:"6"}),Object(L.jsx)("span",{className:"".concat(Te.a.tech," ").concat(Te.a.activatedTech),children:"7"})]}),Object(L.jsx)("br",{}),Object(L.jsxs)("p",{children:["then you can ",Object(L.jsx)("em",{children:"eliminate"})," the given number/plastic type!"]}),Object(L.jsx)(Be,{onClick:function(){e(V.updateCanvas(x))}})]})})},Ee=function(){var e=Object(o.b)();return Object(L.jsx)(Pe,{children:Object(L.jsxs)("div",{className:Te.a.startGame,children:[Object(L.jsx)("p",{className:Te.a.textCenter,children:"You WIN if less than 10 remained from 3/6/7!"}),Object(L.jsx)("p",{children:"We, like Earth as we know it, are running ouf time..."}),Object(L.jsxs)("p",{children:["You've got ",Object(L.jsx)("strong",{id:"timeLimit",children:1})," minutes to develop a new tech!"]}),Object(L.jsx)("div",{className:Te.a.hourGlass,children:Object(L.jsx)("i",{className:"fa fa-hourglass-2"})}),Object(L.jsx)(Be,{onClick:function(){e(V.startGame())}})]})})},Ie=function(){var e=Object(o.c)((function(e){return e.results.score})),t=Object(o.b)();return Object(L.jsx)(Pe,{children:Object(L.jsxs)("div",{className:Te.a.gameOver,children:[Object(L.jsx)("p",{className:Te.a.textCenter,id:"over",children:"GAME OVER"}),Object(L.jsx)("br",{}),Object(L.jsxs)("p",{className:Te.a.textCenter,children:["Your score: ",Object(L.jsx)("span",{children:e})]}),Object(L.jsx)(Se,{onClick:function(){t(A.resetScore()),t(P.reset()),t(V.startGame())}})]})})},Re=function(){var e=Object(o.c)((function(e){return e.results.score})),t=Object(o.b)();return Object(L.jsx)(Pe,{children:Object(L.jsxs)("div",{className:Te.a.congrat,children:[Object(L.jsx)("p",{className:Te.a.textCenter,children:"Amazing! You win. Keep this enthusiasm!"}),Object(L.jsx)("br",{}),Object(L.jsx)("img",{src:"imgs/gray-and-green-turtle.jpg",alt:"turtle"}),Object(L.jsxs)("p",{className:Te.a.textCenter,children:["Your score: ",Object(L.jsx)("span",{class:"finalScore",children:e})]}),Object(L.jsx)(Se,{onClick:function(){t(P.reset()),t(A.resetScore()),t(V.startGame())}}),Object(L.jsxs)("p",{children:["Did you know? ",Object(L.jsx)("span",{children:Ve[Math.floor(Math.random()*Ve.length)]})]})]})})},De=function(){var e=Object(o.b)(),t=function(t){var n=Number(t.target.dataset.id);e(V.addRemovablePlastic(n)),e(P.addBadge(n+1)),e(V.togglePause())};return Object(L.jsx)(Pe,{children:Object(L.jsxs)("div",{className:Te.a.popUpTech,children:[Object(L.jsx)("p",{children:"Great work! Choose one type that you can handle from now on."}),Object(L.jsx)("br",{}),y.map((function(e){return Object(L.jsx)("div",{className:Te.a.selectTechButton,onClick:t,"data-id":e,children:"Create Tech ".concat(e+1)},"select".concat(e+1))}))]})})},He=function(){switch(Object(o.c)((function(e){return e.general.canvasToShow}))){case f:return Object(L.jsx)(Ye,{});case m:return Object(L.jsx)(Le,{});case v:return Object(L.jsx)(Fe,{});case x:return Object(L.jsx)(Ee,{});case _:return Object(L.jsx)(Ie,{});case N:return Object(L.jsx)(Re,{});case M:return Object(L.jsx)(De,{});default:return null}},Ue=function(e){for(var t=le();0!==Number(Me(_e(t),e));)t=le();return t},We=function(){var e=Object(o.c)((function(e){return e.general.removablePlasticList})),t=Ue(e),n=Object(c.useState)(t),a=Object(D.a)(n,2),s=a[0],i=a[1],r=Object(o.b)(),l=Object(o.c)((function(e){return e.general.isOn})),u=Object(o.c)((function(e){return e.general.isPaused})),j=function(e,t){var n=s.find((function(e){return e.position===t})),c=s.find((function(t){return t.position===e}));i((function(a){return _e(a.map((function(a){return a.position===e?{position:a.position,value:n.value,pointValue:n.pointValue,aboutToMove:a.aboutToMove}:a.position===t?{position:a.position,value:c.value,pointValue:c.pointValue,aboutToMove:a.aboutToMove}:a})))}))},d=function(){setTimeout((function(){i((function(t){return _e(pe(t,e))}))}),300),console.log("CHANGED")};return Object(c.useEffect)((function(){var t=Me(_e(s),e);t>0&&(r(A.increaseScore(t)),setTimeout((function(){i((function(t){return _e(pe(t,e))}))}),300))}),[s,r,e]),Object(c.useEffect)((function(){l&&i(Ue(e))}),[l,e]),Object(L.jsxs)("div",{className:te.a.gameField,children:[(!l||u)&&Object(L.jsx)(He,{}),s.map((function(t){return Object(L.jsx)(ve,{position:t.position,tileValue:t.value,aboutToMove:t.aboutToMove,tileState:t.pointValue>0&&e.includes(t.value)?re[2]:re[0],onSwitch:j,onMouseUp:d},"tile".concat(t.position))}))]})},qe=function(){return Object(L.jsxs)("div",{className:d.a.gameBoard,children:[Object(L.jsx)($,{}),Object(L.jsx)(We,{})]})},Xe=n(37),ze=n.n(Xe),Je=n(38),Ke=n.n(Je),Qe=function(){return Object(L.jsx)(ze.a,{className:Ke.a.myVideo,width:null,height:null,playing:!0,muted:!0,loop:!0,url:"videos/underwater-vladimir-koshenkov.mp4"})};var Ze=function(){return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("div",{className:u.a.App,children:Object(L.jsx)(qe,{})}),Object(L.jsx)(Qe,{})]})};i.a.render(Object(L.jsx)(a.a.StrictMode,{children:Object(L.jsx)(o.a,{store:Y,children:Object(L.jsx)(Ze,{})})}),document.getElementById("root")),r()}],[[59,14,15]]]);
//# sourceMappingURL=main.e6b9a555.chunk.js.map